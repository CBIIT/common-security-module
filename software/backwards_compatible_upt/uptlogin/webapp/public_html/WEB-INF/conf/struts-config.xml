<?xml version="1.0" encoding="UTF-8"?>

<!--L
   Copyright Ekagra Software Technologies Ltd.
   Copyright SAIC

   Distributed under the OSI-approved BSD 3-Clause License.
   See http://ncip.github.com/common-security-module/LICENSE.txt for details.
L-->

<!DOCTYPE struts-config PUBLIC "-//Apache Software Foundation//DTD Struts Configuration 1.1//EN" "http://jakarta.apache.org/struts/dtds/struts-config_1_1.dtd">
<struts-config>
	<data-sources />
	<form-beans>
		<form-bean name="LoginForm"
			type="gov.nih.nci.security.loginapp.forms.LoginForm" />
		<form-bean name="MenuForm"
			type="gov.nih.nci.security.loginapp.forms.MenuForm" />			
		
		
	</form-beans>
	<global-exceptions>
		<exception key="" scope="request" type="java.lang.Exception" path="Tiles.500.Error.Page" handler="gov.nih.nci.security.loginapp.exceptionHandler.DefaultExceptionHandler"/>
	</global-exceptions>
	<global-forwards>
		<forward name="Login" path="/Login.do" />		
		<forward name="LHome" path="/LHome.do" contextRelative="true" redirect="true"/>
		<forward name="MenuSelection" path="/MenuSelection.do" />
		<forward name="LLoginPage" path="Tiles.Login.Page2" />
		<forward name="AdminHome" path="/AdminHome.do"/>
		
	</global-forwards>
	<action-mappings>
	
		<action path="/FooterContactUs" forward="Tiles.Footer.ContactUs"/>
		<action path="/FooterApplicationSupport" forward="Tiles.Footer.ApplicationSupport"/>
		<action path="/FooterAccessibility" forward="Tiles.Footer.Accessibility"/>
		<action path="/FooterPrivacy" forward="Tiles.Footer.Privacy"/>
		<action path="/FooterDisclaimer" forward="Tiles.Footer.Disclaimer"/>

		<action path="/ViewErrorDetails" forward="Tiles.500.Error.DetailsPage"/>

		<action path="/LHome"
			type="gov.nih.nci.security.loginapp.actions.HomeAction"
			input="Tiles.Login.Page">
			<forward name="LoginPage" path="Tiles.Login.Page" />
			<forward name="HomePage" path="Tiles.Home.Page" />
		</action>
		<action path="/AdminHome"
			type="gov.nih.nci.security.loginapp.actions.HomeAction"
			input="Tiles.Login.Page">
			<forward name="LoginPage" path="Tiles.Login.Page" />
			<forward name="HomePage" path="Tiles.SuperAdmin.Home.Page" />
		</action>
		
		
		<action path="/Login"
			type="gov.nih.nci.security.loginapp.actions.LoginAction" 
			name="LoginForm"
			scope="session" 
			validate="true" 
			input="Tiles.Login.Page">
			<forward name="LoginSuccess" path="Tiles.Home.Page" />
			<forward name="LoginSuccessBounce" path="Tiles.Home.Page.test" />
			<forward name="AdminLoginSuccessBounce" path="Tiles.SuperAdmin.Home.Page.test" />			
			<forward name="AdminLoginSuccess" path="Tiles.SuperAdmin.Home.Page" />			
			<forward name="LoginFailure" path="Tiles.Login.Page" />
		</action>
		<action path="/Logout"
			type="gov.nih.nci.security.loginapp.actions.LogoutAction" >
			<forward name="LogoutSuccess" path="Tiles.Login.Page" />
		</action>		
		<action path="/MenuSelection"
			type="gov.nih.nci.security.loginapp.actions.MenuSelectionAction"
			name="MenuForm" 
			scope="session" 
			validate="true"
			input="Tiles.Login.Page">
			<forward name="ApplicationHomePage" path="Tiles.Application.Home" />
			<forward name="RoleHomePage" path="Tiles.Role.Home" />
			<forward name="GroupHomePage" path="Tiles.Group.Home" />
			<forward name="UserHomePage" path="Tiles.User.Home" />
			<forward name="PrivilegeHomePage" path="Tiles.Privilege.Home" />
			<forward name="ProtectionGroupHomePage" path="Tiles.ProtectionGroup.Home" />
			<forward name="ProtectionElementHomePage" path="Tiles.ProtectionElement.Home" />
			<forward name="InstanceLevelHomePage" path="Tiles.InstanceLevel.Home" />
			<forward name="HomePage" path="Tiles.Home.Page" />
			<forward name="AdminHomePage" path="Tiles.SuperAdmin.Home.Page" />			
			<forward name="LogoutAction" path="/Logout.do" />
		</action>
		

	</action-mappings>

	<controller bufferSize="4096" debug="0" />

	<message-resources
		parameter="gov.nih.nci.security.loginapp.resources.ApplicationResources" />

	<!--Additional plug-ins -->

	<plug-in className="org.apache.struts.tiles.TilesPlugin">
		<set-property property="definitions-config"
			value="/WEB-INF/conf/tiles.xml" />
		<set-property property="debug" value="DEBUG"></set-property>
	</plug-in>

	<plug-in className="org.apache.struts.validator.ValidatorPlugIn">
		<set-property property="pathnames"
			value="/WEB-INF/conf/validator-rules.xml,/WEB-INF/conf/validation.xml" />
	</plug-in>

</struts-config>

