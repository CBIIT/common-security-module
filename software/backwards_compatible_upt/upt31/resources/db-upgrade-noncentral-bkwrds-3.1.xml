<?xml version="1.0" encoding="UTF-8"?>

<!--L
   Copyright Ekagra Software Technologies Ltd.
   Copyright SAIC, SAIC-Frederick

   Distributed under the OSI-approved BSD 3-Clause License.
   See http://ncip.github.com/common-security-module/LICENSE.txt for details.
L-->

<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog/1.7"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog/1.7
	http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-1.7.xsd">
	<preConditions>
		<or>
			<dbms type="oracle" />
			<dbms type="mysql" />
			<dbms type="postgresql" />
		</or>
	</preConditions>

	<changeSet author="upt-bkwrds-31" id="1">
 		<sql>update CSM_APPLICATION
             set APPLICATION_NAME ='csmupt31'
             where APPLICATION_NAME='csmupt';
        </sql>
	 	<sql>update CSM_PROTECTION_ELEMENT
             set PROTECTION_ELEMENT_NAME ='csmupt31', OBJECT_ID='csmupt31'
             where PROTECTION_ELEMENT_NAME='csmupt';
        </sql>
		<addColumn tableName="CSM_APPLICATION">
			<column name="DATABASE_URL" type="VARCHAR(100)"></column>
		</addColumn>
		<addColumn tableName="CSM_APPLICATION">
			<column name="DATABASE_USER_NAME" type="VARCHAR(100)"></column>
		</addColumn>
		<addColumn tableName="CSM_APPLICATION">
			<column name="DATABASE_PASSWORD" type="VARCHAR(100)"></column>
		</addColumn>
		<addColumn tableName="CSM_APPLICATION">
			<column name="DATABASE_DIALECT" type="VARCHAR(100)"></column>
		</addColumn>
		<addColumn tableName="CSM_APPLICATION">
			<column name="DATABASE_DRIVER" type="VARCHAR(100)"></column>
		</addColumn>
		<addColumn tableName="CSM_APPLICATION">
			<column name="CSM_VERSION" type="VARCHAR(20)"></column>
		</addColumn>


		<modifyColumn tableName="csm_application">
			<column name="UPDATE_DATE" type="DATE" defaultValue="0000-00-00">
			</column>
		</modifyColumn>
		<modifyColumn tableName="csm_group">
			<column name="UPDATE_DATE" type="DATE" defaultValue="0000-00-00">
			</column>
		</modifyColumn>
		<modifyColumn tableName="csm_pg_pe">
			<column name="UPDATE_DATE" type="DATE" defaultValue="0000-00-00">
			</column>
		</modifyColumn>
		<modifyColumn tableName="csm_privilege">
			<column name="UPDATE_DATE" type="DATE" defaultValue="0000-00-00">
			</column>
		</modifyColumn>
		<modifyColumn tableName="csm_protection_element">
			<column name="UPDATE_DATE" type="DATE" defaultValue="0000-00-00">
			</column>
		</modifyColumn>
		<modifyColumn tableName="csm_role">
			<column name="UPDATE_DATE" type="DATE" defaultValue="0000-00-00">
			</column>
		</modifyColumn>	
				<modifyColumn tableName="csm_user">
			<column name="UPDATE_DATE" type="DATE" defaultValue="0000-00-00">
			</column>
		</modifyColumn>		
		<modifyColumn tableName="csm_user_group_role_pg">
			<column name="UPDATE_DATE" type="DATE" defaultValue="0000-00-00">
			</column>
		</modifyColumn>
		<modifyColumn tableName="csm_user_pe">
			<column name="UPDATE_DATE" type="DATE" defaultValue="0000-00-00">
			</column>
		</modifyColumn>	

	</changeSet>

</databaseChangeLog>

